<!--
# Filename: student.component.html
# Date: 16 Aug 2019
# Author: ISG IT Department
# Purpose: User Interface for student information form
# Note: If ngModel is used within a form tag, either the name attribute must be set 
# or the form control must be defined as 'standalone' in ngModelOptions
-->

<div class="card m-3">
    <h4 class="card-header">Student Information Form</h4>
  
    <div class="card-body">

      <div class="alert alert-warning" *ngIf="studentForm.dirty && studentForm.invalid">Enter valid values</div>
      <div class="alert alert-warning" *ngIf="firstName.dirty && firstName.invalid">Enter at least 3 characters in First Name</div>
      <div class="alert alert-warning" *ngIf="lastName.dirty && lastName.invalid">Enter at least 3 characters in Last Name</div>
      <div class="alert alert-warning" *ngIf="dob.dirty && dob.invalid">Enter valid Start Date</div>
      <div class="alert alert-warning" *ngIf="age.dirty && age.invalid">Enter valid Age</div>
  
      <form #studentForm="ngForm" (ngSubmit)="saveStudent( )" >
  
        <div class="form-row">
  
          <!--Input for Student First Name-->
          <div class="form-group col-md-4">
            <label>First Name:</label>
            <input type="text" 
                  #firstName="ngModel"
                  [(ngModel)]="student.firstName" 
                  [ngModelOptions]="{standalone: true}"
                  class="form-control"
                  name="firstName" 
                  required 
                  minlength="3" />
          </div>
  
          <!--Input for Student Middle Name-->
          <div class="form-group col-md-4">
            <label>Middle Name:</label>
            <input type="text" 
                  #middlename="ngModel"
                  [(ngModel)]="student.middlename" 
                  [ngModelOptions]="{standalone: true}"
                  class="form-control"
                  name="middlename" 
                  minlength="3" />
          </div>
  
          <!--Input for Student Last Name-->
          <div class="form-group col-md-4">
            <label>Last Name:</label>
            <input type="text" 
                  #lastName="ngModel"
                  [(ngModel)]="student.lastName" 
                  [ngModelOptions]="{standalone: true}"
                  class="form-control"
                  name="lastName" 
                  required
                  minlength="3" />
          </div>
  
        </div><!--End of form row for Student's name-->
  
        <div class="form-row">
  
          <div class="form-group col">
            <label>Gender:</label>
            <select class="form-control" [value]="student.gender" (change)="student.gender=$event.target.value">
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
          </div>
  
          <div class="form-group col">
            <label>Date of Birth:</label>            
            <input type="date" 
                  #dob="ngModel"
                  [ngModel]="student.dob | date: 'yyyy-MM-dd' "
                  [ngModelOptions]="{standalone: true}"
                  (ngModelChange)="student.dob = $event" 
                  class="form-control"
                  name="dob" 
                  required />
          </div>
  
          <div class="form-group col">
            <label>Age:</label>
            <input type="number"
                  #age="ngModel"
                  [(ngModel)]="student.age" 
                  [ngModelOptions]="{standalone: true}"
                  class="form-control"
                  name="age" 
                  required />
          </div>
        </div><!--End of form row--><!--End of form row for Student gender, age-->
  
        <div class="form-group form-check-inline">
          <input type="checkbox" 
                (click)="toggleShow( )" 
                class="form-check-input" />
          <label class="form-check-label">Allergies/Medical Conditions</label>
        </div>

        <!--If the user checks the checkbox then textArea will appear-->
        <div *ngIf="isShown" id="divshow" class="form-group" >
          <textarea  rows="2" 
                    #textArea="ngModel" 
                    [(ngModel)]="student.allerges" 
                    [ngModelOptions]="{standalone: true}"
                    name="textArea" 
                    class="form-control">
          </textarea>
        </div>

        <div class="form-row">
          <div class="form-group col">
            <label>Select of Day</label>     
            <select class="form-control" [value]="student.classDay" (change)="student.classDay=$event.target.value">
              <option value="Saturday">Saturday</option>
              <option value="Sunday">Sunday</option>
            </select>
          </div>
          
          <div class="form-group col">
            <label>Select the class according to age group</label>
            <select class="form-control" [value]="student.classSelection" (change)="student.classSelection=$event.target.value">
              <option value="foundtion">Foundition - 5 & 6 years old</option>
              <option value="beginner">Beginner - 7 & 8 years old</option>
              <option value="intermediate">Intermediate - 9 & 10 years old</option>
              <option value="proficient">Proficient - 11 & 12 years old</option>
              <option value="advanced">Advanced - 13 & 14 years old</option>
              <option value="youth">Youth - 15 & 16 years old</option>
              <option value="adult">Adult - 17 & 18 years old</option>
            </select>
          </div>

        </div><!--End of form row--><!--End of form row for Student class and class selection-->

        <div class="card-footer text-center">
          <input type="submit" class="btn btn-primary mr-2" value="Save Form" />
          
          <input type="reset" class="btn btn-secondary mr-2" value="Clear Form"/>
        </div><!--End of card footer-->
      </form>
  
    </div><!--End of the Card Body-->
  
  </div><!--End of card-->
  